<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vyuka</title>
    <link rel="stylesheet" href="theme.css">
    <link rel="stylesheet" href="vyuka-layout.css">
    <link rel="stylesheet" href="vyuka-chat.css">
    <link rel="stylesheet" href="vyuka-presenter.css">
    <link rel="stylesheet" href="vyuka-specific.css">
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']], // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è inline-–º–∞—Ç–µ–º–∞—Ç–∏–∫–∏
                displayMath: [['$$', '$$'], ['\\[', '\\]']], // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è display-–º–∞—Ç–µ–º–∞—Ç–∏–∫–∏
                processEscapes: true // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å \$, \\
            },
            svg: {
                fontCache: 'global' // –∏–ª–∏ 'local' –∏–ª–∏ 'none'
            },
             options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'], // –¢–µ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ MathJax –¥–æ–ª–∂–µ–Ω –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å
                 ignoreHtmlClass: 'tex2jax_ignore', // –ö–ª–∞—Å—Å –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
                 processHtmlClass: 'tex2jax_process' // –ö–ª–∞—Å—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
             },
             startup: {
                 ready: () => {
                     console.log('MathJax startup: Ready.');
                     MathJax.startup.defaultReady();
                     MathJax.startup.promise.then(() => {
                        console.log('MathJax initial typesetting finished (if any).');
                     });
                 }
             }
        };
        // –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –±—ã–ª–∞ –∑–¥–µ—Å—å –¥–ª—è –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –µ–µ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∏–ª–∏ —É–±—Ä–∞—Ç—å
        // console.log('MathJax configuration set (v3.x.x).'); // Log version manually if needed
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.6/purify.min.js" integrity="sha512-DJAUyImSMdzbbAbOVke7EjdLRXfsh2GzFSH/rW73nC7L0MdHEWZa6QKI7Vj1TzLzPGqh0hL1d3B97Qk4MHD/lg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script src="config.js"></script>
     <script src="state.js"></script>
     <script src="utils.js"></script> <script src="ui.js"></script>     <script src="uiHelpers.js"></script> <script src="supabaseService.js"></script>
     <script src="geminiService.js"></script>
     <script src="speechService.js"></script>
     <script src="whiteboardController.js"></script>
     <script src="chatController.js"></script>
     <script defer src="vyukaApp.js"></script>


</head>
<body>
    <div class="container">
        <aside class="sidebar left-sidebar">
             <div id="user-info" class="user-info-panel" style="display: none;"> <img id="user-avatar" src="assets/default-avatar.png" alt="Avatar" class="avatar">
                 <div class="user-details">
                     <span id="user-name" class="user-name">Naƒç√≠t√°n√≠...</span>
                     <span id="user-email" class="user-email"></span>
                 </div>
                 <button id="theme-toggle-button" class="theme-toggle" title="P≈ôepnout t√©ma">üåì</button>
                 <button id="logout-button" class="logout-button" title="Odhl√°sit se" style="display: none;">Odhl√°sit</button>
             </div>
             <nav class="navigation-menu">
                 <ul>
                     <li><a href="/dashboard.html">P≈ôehled</a></li>
                     <li><a href="/dashboard/procvicovani/main.html">Procviƒçov√°n√≠</a></li>
                     <li><a href="/dashboard/pokrok.html">Pokrok</a></li>
                     <li><a href="/dashboard/profil.html">Profil</a></li>
                     </ul>
             </nav>
             </aside>

        <main class="main-content">
            <section class="presenter-view" id="presenter-view">
                <h2 class="topic-title">Aktu√°ln√≠ T√©ma: <span id="current-topic-title">Naƒç√≠t√°n√≠...</span></h2>
                <div class="whiteboard-container">
                    <div class="whiteboard" id="whiteboard">
                        <p>Naƒç√≠t√°n√≠ v√Ωukov√©ho sezen√≠...</p>
                    </div>
                </div>
                 <div class="thinking-indicator" id="thinking-indicator" style="display: none;">
                     <div class="spinner"></div>
                     <span>AI p≈ôem√Ω≈°l√≠...</span>
                 </div>
            </section>

            <section class="chat-interaction">
                 <div class="chat-messages" id="chat-messages">
                     <div class="message system"><p>V√≠tejte ve v√Ωukov√©m prost≈ôed√≠!</p></div>
                 </div>
                 <div class="chat-input-area">
                     <textarea id="chat-input" placeholder="Va≈°e odpovƒõƒè nebo ot√°zka..." rows="2"></textarea>
                     <button id="send-chat-button" title="Odeslat zpr√°vu (Enter)">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20px" height="20px"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                     </button>
                     <button id="speech-to-text-button" title="Hlasov√Ω vstup">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20px" height="20px"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.49 6-3.31 6-6.72h-1.7z"/></svg>
                     </button>
                 </div>
                 <div class="tts-controls">
                     <button id="toggle-tts-button" title="Zapnout/Vypnout hlasov√Ω v√Ωstup">üîä</button>
                     <button id="replay-tts-button" title="P≈ôehr√°t posledn√≠ v√Ωstup znovu" style="display: none;">üîÑ</button>
                 </div>
                 <div id="error-container" class="error-message"></div> <div id="toast-container"></div> </section>
        </main>

         <aside class="sidebar right-sidebar">
             <div id="notifications-panel" class="notifications-panel">
                 <h3><span id="notification-badge" class="badge" style="display: none;">0</span> Ozn√°men√≠</h3>
                 <ul id="notifications-list">
                     <li>Naƒç√≠t√°n√≠ ozn√°men√≠...</li>
                 </ul>
             </div>
             </aside>

        <div class="loading-overlay" id="loading-overlay-user"><div class="spinner"></div><span>Naƒç√≠t√°n√≠ profilu...</span></div>
        <div class="loading-overlay" id="loading-overlay-currentTopic"><div class="spinner"></div><span>Naƒç√≠t√°n√≠ t√©matu...</span></div>
        <div class="loading-overlay" id="loading-overlay-notifications"><div class="spinner"></div><span>Naƒç√≠t√°n√≠ ozn√°men√≠...</span></div>

    </div> </body>
</html>